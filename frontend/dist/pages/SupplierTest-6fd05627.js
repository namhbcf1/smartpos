import{j as s,af as b,T as r,W as l,t as c,ad as v,ae as C,Y as m,Z as j,L as S,w as L,a2 as E}from"../chunks/mui-core-cd9e8750.js";import{r as t}from"../chunks/react-vendor-9ee90314.js";import{a as d}from"../assets/index-fad1ea34.js";import"../chunks/query-vendor-0e167262.js";import"../chunks/ui-vendor-11834b8a.js";import"../chunks/utils-vendor-8faa4a85.js";import"../chunks/mui-icons-f0327ae6.js";const A=()=>{const[n,p]=t.useState([]),[u,h]=t.useState(!1),[g,o]=t.useState(null),[x,f]=t.useState(null),a=async()=>{h(!0),o(null);try{console.log("Loading suppliers...");const e=await d.get("/suppliers?is_active=true&limit=100");console.log("Suppliers response:",e),e.success&&e.data?.data?(p(e.data.data),console.log("Suppliers loaded:",e.data.data)):(p([]),o("Không có dữ liệu nhà cung cấp"))}catch(e){console.error("Error loading suppliers:",e),o("Lỗi khi tải danh sách nhà cung cấp: "+e.message)}finally{h(!1)}},i=async()=>{try{console.log("Loading debug info...");const e=await d.get("/suppliers/debug");console.log("Debug response:",e),f(e)}catch(e){console.error("Error loading debug info:",e)}},y=async()=>{try{console.log("Creating sample suppliers...");const e=await d.post("/suppliers/create-samples",{});console.log("Create samples response:",e),e.success&&(await a(),await i())}catch(e){console.error("Error creating sample suppliers:",e)}};return t.useEffect(()=>{a(),i()},[]),s.jsxs(b,{maxWidth:"lg",sx:{py:4},children:[s.jsx(r,{variant:"h4",gutterBottom:!0,children:"Test Nhà Cung Cấp"}),s.jsxs(l,{sx:{mb:3,display:"flex",gap:2},children:[s.jsx(c,{variant:"contained",onClick:a,disabled:u,children:"Tải lại danh sách"}),s.jsx(c,{variant:"outlined",onClick:i,children:"Xem debug info"}),s.jsx(c,{variant:"outlined",onClick:y,children:"Tạo dữ liệu mẫu"})]}),u&&s.jsx(l,{sx:{display:"flex",justifyContent:"center",my:3},children:s.jsx(v,{})}),g&&s.jsx(C,{severity:"error",sx:{mb:3},children:g}),s.jsx(m,{sx:{mb:3},children:s.jsxs(j,{children:[s.jsxs(r,{variant:"h6",gutterBottom:!0,children:["Danh sách nhà cung cấp (",n.length,")"]}),n.length===0?s.jsx(r,{color:"text.secondary",children:"Không có nhà cung cấp nào"}):s.jsx(S,{children:n.map(e=>s.jsx(L,{divider:!0,children:s.jsx(E,{primary:e.name,secondary:s.jsxs(l,{children:[s.jsxs(r,{variant:"body2",children:["ID: ",e.id," | Liên hệ: ",e.contact_person||"N/A"]}),s.jsxs(r,{variant:"body2",children:["Phone: ",e.phone||"N/A"," | Email: ",e.email||"N/A"]}),s.jsxs(r,{variant:"body2",children:["Trạng thái: ",e.is_active?"Hoạt động":"Không hoạt động"]})]})})},e.id))})]})}),x&&s.jsx(m,{children:s.jsxs(j,{children:[s.jsx(r,{variant:"h6",gutterBottom:!0,children:"Debug Information"}),s.jsx("pre",{style:{fontSize:"12px",overflow:"auto"},children:JSON.stringify(x,null,2)})]})})]})};export{A as default};
