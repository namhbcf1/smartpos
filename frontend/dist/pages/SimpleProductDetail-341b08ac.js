import{j as s,W as r,ad as K,I as h,T as t,ae as g,aj as a,Y as f,aA as D,Z as E,C as b,a3 as m,t as v}from"../chunks/mui-core-cd9e8750.js";import{j as F,u as N,r as d}from"../chunks/react-vendor-9ee90314.js";import{$ as j,l as C,k as T,y as I,j as G,S as H}from"../chunks/mui-icons-f0327ae6.js";const k=o=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(o),V=()=>{const{id:o}=F(),c=N(),[e,S]=d.useState(null),[w,p]=d.useState(!0),[u,l]=d.useState(null);d.useEffect(()=>{P()},[o]);const P=async()=>{try{p(!0),l(null),console.log("üîç Fetching product with ID:",o);const n=await(await fetch("https://smartpos-api.bangachieu2.workers.dev/api/v1/products?limit=100")).json();if(console.log("üì¶ Products API response:",n),n.success&&n.data&&n.data.data){const x=n.data.data.find(B=>B.id===parseInt(o||"0"));x?(console.log("‚úÖ Found product:",x),S(x)):l("Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m")}else l("Kh√¥ng th·ªÉ t·∫£i danh s√°ch s·∫£n ph·∫©m")}catch(i){l("Kh√¥ng th·ªÉ t·∫£i th√¥ng tin s·∫£n ph·∫©m"),console.error("Error fetching product:",i)}finally{p(!1)}},A=(i,n)=>i<=0?{label:"H·∫øt h√†ng",color:"error"}:i<=n?{label:"S·∫Øp h·∫øt",color:"warning"}:{label:"C√≤n h√†ng",color:"success"};if(w)return s.jsx(r,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:s.jsx(K,{})});if(u)return s.jsxs(r,{p:3,children:[s.jsxs(r,{display:"flex",alignItems:"center",mb:3,children:[s.jsx(h,{onClick:()=>c("/sales/new"),sx:{mr:2},children:s.jsx(j,{})}),s.jsx(t,{variant:"h4",component:"h1",children:"Chi ti·∫øt s·∫£n ph·∫©m"})]}),s.jsx(g,{severity:"error",children:u})]});if(!e)return s.jsxs(r,{p:3,children:[s.jsxs(r,{display:"flex",alignItems:"center",mb:3,children:[s.jsx(h,{onClick:()=>c("/sales/new"),sx:{mr:2},children:s.jsx(j,{})}),s.jsx(t,{variant:"h4",component:"h1",children:"Chi ti·∫øt s·∫£n ph·∫©m"})]}),s.jsx(g,{severity:"info",children:"Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m"})]});const y=A(e.stockQuantity,e.stockAlertThreshold);return s.jsxs(r,{p:3,children:[s.jsxs(r,{display:"flex",alignItems:"center",mb:3,children:[s.jsx(h,{onClick:()=>c("/sales/new"),sx:{mr:2},children:s.jsx(j,{})}),s.jsx(t,{variant:"h4",component:"h1",children:"Chi ti·∫øt s·∫£n ph·∫©m"})]}),s.jsxs(a,{container:!0,spacing:3,children:[s.jsx(a,{item:!0,xs:12,md:4,children:s.jsx(f,{children:s.jsx(D,{component:"img",height:"300",image:e.imageUrl||"/placeholder-product.jpg",alt:e.name,sx:{objectFit:"cover"}})})}),s.jsx(a,{item:!0,xs:12,md:8,children:s.jsx(f,{children:s.jsxs(E,{children:[s.jsx(t,{variant:"h5",component:"h2",gutterBottom:!0,children:e.name}),s.jsxs(r,{display:"flex",gap:1,mb:2,children:[s.jsx(b,{label:y.label,color:y.color,size:"small"}),s.jsx(b,{label:e.isActive?"Ho·∫°t ƒë·ªông":"Kh√¥ng ho·∫°t ƒë·ªông",color:e.isActive?"success":"default",size:"small"})]}),s.jsx(m,{sx:{my:2}}),s.jsxs(a,{container:!0,spacing:2,children:[s.jsxs(a,{item:!0,xs:12,sm:6,children:[s.jsxs(r,{display:"flex",alignItems:"center",mb:1,children:[s.jsx(C,{sx:{mr:1,color:"text.secondary"}}),s.jsxs(t,{variant:"body2",color:"text.secondary",children:["SKU: ",e.sku]})]}),e.barcode&&s.jsxs(r,{display:"flex",alignItems:"center",mb:1,children:[s.jsx(C,{sx:{mr:1,color:"text.secondary"}}),s.jsxs(t,{variant:"body2",color:"text.secondary",children:["Barcode: ",e.barcode]})]}),s.jsxs(r,{display:"flex",alignItems:"center",mb:1,children:[s.jsx(T,{sx:{mr:1,color:"text.secondary"}}),s.jsxs(t,{variant:"body2",color:"text.secondary",children:["Danh m·ª•c: ",e.categoryName||"Ch∆∞a ph√¢n lo·∫°i"]})]})]}),s.jsxs(a,{item:!0,xs:12,sm:6,children:[s.jsxs(r,{display:"flex",alignItems:"center",mb:1,children:[s.jsx(I,{sx:{mr:1,color:"text.secondary"}}),s.jsx(t,{variant:"body2",color:"text.secondary",children:"Gi√° b√°n:"}),s.jsx(t,{variant:"h6",color:"primary",sx:{ml:1},children:k(e.price)})]}),s.jsxs(r,{display:"flex",alignItems:"center",mb:1,children:[s.jsx(I,{sx:{mr:1,color:"text.secondary"}}),s.jsxs(t,{variant:"body2",color:"text.secondary",children:["Gi√° v·ªën: ",k(e.costPrice)]})]}),s.jsxs(r,{display:"flex",alignItems:"center",mb:1,children:[s.jsx(G,{sx:{mr:1,color:"text.secondary"}}),s.jsxs(t,{variant:"body2",color:"text.secondary",children:["T·ªìn kho: ",e.stockQuantity," s·∫£n ph·∫©m"]})]})]})]}),e.description&&s.jsxs(s.Fragment,{children:[s.jsx(m,{sx:{my:2}}),s.jsx(t,{variant:"h6",gutterBottom:!0,children:"M√¥ t·∫£"}),s.jsx(t,{variant:"body2",color:"text.secondary",children:e.description})]}),s.jsx(m,{sx:{my:2}}),s.jsxs(r,{display:"flex",gap:2,children:[s.jsx(v,{variant:"contained",startIcon:s.jsx(H,{}),onClick:()=>c("/sales/new"),children:"Th√™m v√†o gi·ªè h√†ng"}),s.jsx(v,{variant:"outlined",onClick:()=>c("/products"),children:"Qu·∫£n l√Ω s·∫£n ph·∫©m"})]})]})})})]})]})};export{V as default};
