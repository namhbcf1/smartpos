import{u as s,g as e,j as t,E as n,x as o,J as r,B as i,i as a,l as c,G as l,K as h,N as x,C as d,H as m,ae as j,o as p}from"../chunks/mui-core-c8a509c2.js";import{r as u}from"../chunks/react-vendor-546521e5.js";import{a as v}from"../chunks/ui-vendor-6aa703b7.js";import{f as g,a as f}from"../assets/index-e3f8a988.js";import{g as y,p as b,a0 as w,i as k,a as S,m as G,I,h as z,ai as W,aj as B,ak as C,al as T,T as L,j as q,a3 as P,q as R}from"../chunks/mui-icons-38bddb39.js";import"../chunks/query-vendor-a9f5ea8b.js";import"../chunks/utils-vendor-11713830.js";const D=()=>{const D=s();e(D.breakpoints.down("md"));const{enqueueSnackbar:F}=v(),[K,H]=u.useState(!0),[X,E]=u.useState({totalRevenue:0,totalOrders:0,totalCustomers:0,totalProducts:0,revenueGrowth:0,ordersGrowth:0,customersGrowth:0,productsGrowth:0}),O=[{title:"Báo cáo Doanh thu",description:"Phân tích doanh thu theo thời gian, sản phẩm và khu vực",icon:t.jsx(k,{sx:{fontSize:40}}),path:"/reports/revenue",color:"success.main",available:!0},{title:"Sản phẩm Bán chạy",description:"Top sản phẩm bán chạy nhất và xu hướng bán hàng",icon:t.jsx(L,{sx:{fontSize:40}}),path:"/reports/top-products",color:"primary.main",available:!0},{title:"Báo cáo Tồn kho",description:"Tình trạng tồn kho, sản phẩm sắp hết và cần nhập thêm",icon:t.jsx(I,{sx:{fontSize:40}}),path:"/reports/inventory",color:"warning.main",available:!0},{title:"Phân tích Lợi nhuận",description:"Lợi nhuận theo sản phẩm, danh mục và thời gian",icon:t.jsx(q,{sx:{fontSize:40}}),path:"/reports/profit",color:"info.main",available:!0},{title:"Báo cáo Khách hàng",description:"Phân tích hành vi khách hàng và độ trung thành",icon:t.jsx(G,{sx:{fontSize:40}}),path:"/reports/customers",color:"secondary.main",available:!1},{title:"Hiệu quả Khuyến mãi",description:"Đánh giá hiệu quả các chương trình khuyến mãi",icon:t.jsx(P,{sx:{fontSize:40}}),path:"/reports/promotions",color:"error.main",available:!1}],A=async()=>{try{H(!0);const s=await f.get("/reports/dashboard");s.success&&E(s.data)}catch(s){F("Lỗi khi tải thống kê báo cáo",{variant:"error"})}finally{H(!1)}};u.useEffect(()=>{A()},[]);const J=s=>s>0?t.jsx(L,{color:"success"}):s<0?t.jsx(R,{color:"error"}):t.jsx(C,{color:"disabled"}),N=s=>s>0?"success.main":s<0?"error.main":"text.disabled";return t.jsxs(n,{maxWidth:"xl",sx:{py:{xs:1,sm:2},px:{xs:1,sm:2,md:3},minHeight:"100vh",bgcolor:"grey.50"},children:[t.jsx(o,{elevation:1,sx:{p:{xs:2,sm:3},mb:3,borderRadius:2,bgcolor:"white"},children:t.jsxs(r,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},spacing:2,children:[t.jsxs(i,{children:[t.jsxs(a,{variant:"h4",sx:{display:"flex",alignItems:"center",gap:1,fontSize:{xs:"1.5rem",sm:"2rem",md:"2.125rem"},fontWeight:600,color:"primary.main",mb:1},children:[t.jsx(y,{sx:{fontSize:"inherit"}}),"Tổng quan Báo cáo"]}),t.jsx(a,{variant:"body1",color:"text.secondary",sx:{fontSize:{xs:"0.875rem",sm:"1rem"}},children:"Xem và phân tích các báo cáo kinh doanh chi tiết"})]}),t.jsxs(r,{direction:"row",spacing:1,children:[t.jsx(c,{variant:"outlined",startIcon:t.jsx(b,{}),onClick:A,disabled:K,children:"Làm mới"}),t.jsx(c,{variant:"outlined",startIcon:t.jsx(w,{}),children:"Xuất báo cáo"})]})]})}),t.jsxs(l,{container:!0,spacing:3,sx:{mb:4},children:[t.jsx(l,{item:!0,xs:12,sm:6,md:3,children:t.jsx(h,{children:t.jsx(x,{children:t.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(i,{children:[t.jsx(a,{color:"text.secondary",gutterBottom:!0,variant:"body2",children:"Tổng Doanh thu"}),t.jsx(a,{variant:"h5",component:"div",sx:{fontWeight:600},children:K?t.jsx(d,{size:24}):g(X.totalRevenue)}),t.jsxs(i,{sx:{display:"flex",alignItems:"center",mt:1},children:[J(X.revenueGrowth),t.jsxs(a,{variant:"body2",sx:{ml:.5,color:N(X.revenueGrowth),fontWeight:500},children:[X.revenueGrowth>0?"+":"",X.revenueGrowth.toFixed(1),"%"]})]})]}),t.jsx(k,{color:"success",sx:{fontSize:40}})]})})})}),t.jsx(l,{item:!0,xs:12,sm:6,md:3,children:t.jsx(h,{children:t.jsx(x,{children:t.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(i,{children:[t.jsx(a,{color:"text.secondary",gutterBottom:!0,variant:"body2",children:"Tổng Đơn hàng"}),t.jsx(a,{variant:"h5",component:"div",sx:{fontWeight:600},children:K?t.jsx(d,{size:24}):X.totalOrders.toLocaleString()}),t.jsxs(i,{sx:{display:"flex",alignItems:"center",mt:1},children:[J(X.ordersGrowth),t.jsxs(a,{variant:"body2",sx:{ml:.5,color:N(X.ordersGrowth),fontWeight:500},children:[X.ordersGrowth>0?"+":"",X.ordersGrowth.toFixed(1),"%"]})]})]}),t.jsx(S,{color:"primary",sx:{fontSize:40}})]})})})}),t.jsx(l,{item:!0,xs:12,sm:6,md:3,children:t.jsx(h,{children:t.jsx(x,{children:t.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(i,{children:[t.jsx(a,{color:"text.secondary",gutterBottom:!0,variant:"body2",children:"Khách hàng"}),t.jsx(a,{variant:"h5",component:"div",sx:{fontWeight:600},children:K?t.jsx(d,{size:24}):X.totalCustomers.toLocaleString()}),t.jsxs(i,{sx:{display:"flex",alignItems:"center",mt:1},children:[J(X.customersGrowth),t.jsxs(a,{variant:"body2",sx:{ml:.5,color:N(X.customersGrowth),fontWeight:500},children:[X.customersGrowth>0?"+":"",X.customersGrowth.toFixed(1),"%"]})]})]}),t.jsx(G,{color:"secondary",sx:{fontSize:40}})]})})})}),t.jsx(l,{item:!0,xs:12,sm:6,md:3,children:t.jsx(h,{children:t.jsx(x,{children:t.jsxs(i,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs(i,{children:[t.jsx(a,{color:"text.secondary",gutterBottom:!0,variant:"body2",children:"Sản phẩm"}),t.jsx(a,{variant:"h5",component:"div",sx:{fontWeight:600},children:K?t.jsx(d,{size:24}):X.totalProducts.toLocaleString()}),t.jsxs(i,{sx:{display:"flex",alignItems:"center",mt:1},children:[J(X.productsGrowth),t.jsxs(a,{variant:"body2",sx:{ml:.5,color:N(X.productsGrowth),fontWeight:500},children:[X.productsGrowth>0?"+":"",X.productsGrowth.toFixed(1),"%"]})]})]}),t.jsx(I,{color:"warning",sx:{fontSize:40}})]})})})})]}),t.jsxs(o,{elevation:1,sx:{p:{xs:2,sm:3},mb:3,borderRadius:2},children:[t.jsx(a,{variant:"h5",sx:{mb:3,fontWeight:600},children:"Báo cáo có sẵn"}),t.jsx(l,{container:!0,spacing:3,children:O.map((s,e)=>t.jsx(l,{item:!0,xs:12,sm:6,md:4,children:t.jsxs(h,{sx:{height:"100%",display:"flex",flexDirection:"column",opacity:s.available?1:.6,border:s.available?"1px solid":"1px dashed",borderColor:s.available?"divider":"grey.400"},children:[t.jsxs(x,{sx:{flexGrow:1},children:[t.jsxs(i,{sx:{display:"flex",alignItems:"center",mb:2},children:[t.jsx(i,{sx:{color:s.color,mr:2},children:s.icon}),t.jsx(a,{variant:"h6",sx:{fontWeight:600},children:s.title})]}),t.jsx(a,{variant:"body2",color:"text.secondary",children:s.description}),!s.available&&t.jsx(m,{severity:"info",sx:{mt:2},children:"Báo cáo này đang được phát triển"})]}),t.jsx(j,{children:t.jsx(c,{size:"small",variant:s.available?"contained":"outlined",disabled:!s.available,onClick:()=>{s.available&&(window.location.href=s.path)},sx:{bgcolor:s.available?s.color:"transparent","&:hover":{bgcolor:s.available?s.color:"transparent",opacity:.8}},children:s.available?"Xem báo cáo":"Sắp có"})})]})},e))})]}),t.jsxs(o,{elevation:1,sx:{p:{xs:2,sm:3},borderRadius:2},children:[t.jsx(a,{variant:"h5",sx:{mb:3,fontWeight:600},children:"Thao tác nhanh"}),t.jsxs(l,{container:!0,spacing:2,children:[t.jsx(l,{item:!0,xs:12,sm:6,md:3,children:t.jsx(c,{fullWidth:!0,variant:"outlined",startIcon:t.jsx(z,{}),sx:{py:2},onClick:()=>window.location.href="/reports/revenue",children:"Báo cáo Doanh thu"})}),t.jsx(l,{item:!0,xs:12,sm:6,md:3,children:t.jsx(c,{fullWidth:!0,variant:"outlined",startIcon:t.jsx(W,{}),sx:{py:2},onClick:()=>window.location.href="/reports/top-products",children:"Sản phẩm Bán chạy"})}),t.jsx(l,{item:!0,xs:12,sm:6,md:3,children:t.jsx(c,{fullWidth:!0,variant:"outlined",startIcon:t.jsx(B,{}),sx:{py:2},onClick:()=>window.location.href="/reports/inventory",children:"Báo cáo Tồn kho"})}),t.jsx(l,{item:!0,xs:12,sm:6,md:3,children:t.jsx(c,{fullWidth:!0,variant:"outlined",startIcon:t.jsx(C,{}),sx:{py:2},onClick:()=>window.location.href="/reports/profit",children:"Phân tích Lợi nhuận"})})]}),t.jsx(p,{sx:{my:3}}),t.jsxs(i,{sx:{textAlign:"center"},children:[t.jsx(a,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Cần báo cáo tùy chỉnh? Liên hệ với chúng tôi để được hỗ trợ."}),t.jsx(c,{variant:"contained",startIcon:t.jsx(T,{}),children:"Yêu cầu Báo cáo Tùy chỉnh"})]})]})]})};export{D as default};
